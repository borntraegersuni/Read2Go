<div class="rating-container">
    <!-- Stars + Average Rating (Single Row) -->
    <div class="stars-container">
        <div class="stars" id="stars">
            <span
              *ngFor="let star of stars; let i = index"
              [attr.data-bookid]="bookId"
              [class.filled]="i < rating"
              (click)="setRating(i + 1)"
              [attr.data-value]="i + 1"
              >&#9733;
            </span>
          </div>
        <span class="average-rating">Ø: {{rating}}</span>
    </div>
    
    <!-- Review Input Row -->
    <div class="review-container">
        <form (submit)="sendBookReview($event, bookId, reviewInput.value)">
            <textarea #reviewInput [defaultValue]="review" class="review-input" placeholder="Write your review..." required></textarea>
            <button class="submit-button">Submit</button>
        </form>
    </div>
</div>

<!-- Toast notification -->
<div class="toast" [ngClass]="{'show': toast.show, 'toast-success': toast.type === 'success', 'toast-error': toast.type === 'error', 'toast-warning': toast.type === 'warning', 'toast-info': toast.type === 'info'}">
  <div class="toast-content">
    <span class="toast-icon" *ngIf="toast.type === 'success'">✓</span>
    <span class="toast-icon" *ngIf="toast.type === 'error'">✗</span>
    <span class="toast-icon" *ngIf="toast.type === 'warning'">⚠</span>
    <span class="toast-icon" *ngIf="toast.type === 'info'">ℹ</span>
    <span class="toast-message">{{ toast.message }}</span>
  </div>
  <button class="toast-close" (click)="hideToast()">×</button>
</div>
