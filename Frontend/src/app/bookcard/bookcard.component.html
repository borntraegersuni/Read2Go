<div class="book-container">
    <img [src]="coverUrl || './examplecover.jpg'" [alt]="title" class="book-cover" />
  <div class="book-details">
    <div class="book-title">{{ title }}</div>
    <div class="book-author">by: {{ author }}</div>
    <div class="rating-container">
      <div class="stars" [ngClass]="{'readonly': isSearchPage}">
        <span
          *ngFor="let star of stars; let i = index"
          [attr.data-bookid]="bookId"
          [class.filled]="i < userRating"
          (click)="setRating(i + 1)"
          class="clickable"
          [attr.data-value]="i + 1"
          >★
        </span>
      </div>
      <span class="average-rating">Ø: {{ rating }}</span>
      <button (click)="openPopup()" class="view-more">View More</button>
    </div>
  </div>
</div>

<div class="popup" id="popup-{{ bookId }}">
  <div class="modal-header">
    <span class="close" (click)="closePopup()">&times;</span>
  </div>
  <app-bookoverview [title]="title" [display]="display" [avgRating]="rating" [rating]="userRating" [state]="state" [published]="published" [author]="author" [bookId]="bookId" [coverUrl]="coverUrl" [genre]="genre" [description]="description"></app-bookoverview>
</div>
